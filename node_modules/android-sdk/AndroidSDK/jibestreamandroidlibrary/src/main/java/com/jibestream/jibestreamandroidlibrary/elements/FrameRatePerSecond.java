package com.jibestream.jibestreamandroidlibrary.elements;

import android.graphics.Canvas;
import android.graphics.Paint;
import android.graphics.Rect;
import android.graphics.RectF;

import com.jibestream.jibestreamandroidlibrary.main.Camera;
import com.jibestream.jibestreamandroidlibrary.main.M;
import com.jibestream.jibestreamandroidlibrary.utils.ColorsMaterialDesign;

/**
 * Created by emmanuel on 15-09-06.
 */
public class FrameRatePerSecond extends ElementHUD {

private final Paint paint = new Paint();
public String s;

public FrameRatePerSecond() {
  setInViewSpace(true);
  paint.setStyle(Paint.Style.FILL);
  paint.setTextSize(30);
  paint.setColor(ColorsMaterialDesign.BLUE05);
  final Rect bounds = new Rect();
  paint.getTextBounds("00", 0, 2, bounds);
  bounds.inset(-10, -10);
  setBBox(new RectF(bounds));
}

@Override
public void onUpdate(M m, long timeElapsed, long timeTotal, int fps, Camera camera) {
  super.onUpdate(m, timeElapsed, timeTotal, fps, camera);
  s = Integer.toString(fps);
}


@Override
public void onRender(Canvas canvas, Paint touchPaint) {
  if (s == null) return;
  canvas.save();
  canvas.translate(50, 160);
  canvas.drawRect(getBBox(), styleIdle.paintFill);
  canvas.drawText(s, 0, 0, paint);
  canvas.restore();
}
}
