package com.jibestream.jibestreamandroidlibrary.shapes;

import android.graphics.Canvas;
import android.graphics.Paint;
import android.graphics.Path;
import android.graphics.RectF;

/**
 * Path shape abstraction for easy canvas calls
 * Created by emmanuel on 15-05-13.
 */
public class JPath extends Shape {
private final Path path = new Path();

public JPath() {
  this(null);
}

public JPath(Path path) {
  if (path == null) return;
  this.path.set(path);
  calc();
}

private synchronized void calc() {
  final RectF bbox = new RectF();
  path.computeBounds(bbox, true);
  setBBox(bbox);
}

/**
 * return a copy of the path
 * @return
 */
public synchronized Path getPath() {
  final Path path = new Path(this.path);
  return path;
}

public synchronized void setPath(Path path) {
  this.path.set(path);
  calc();
}

@Override
public void onDraw(Canvas canvas, Paint paint) {
  canvas.drawPath(path, paint);
}

@Override
public void setOffsetX(float offsetX) {
  super.setOffsetX(offsetX);
  calc();
}

@Override
public void setOffsetY(float offsetY) {
  super.setOffsetY(offsetY);
  calc();
}

}


